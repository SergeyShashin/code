<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>supreme/promises/arrays</title>
</head>

<body>
  <a href="https://code.mu/ru/javascript/book/supreme/promises/arrays">
    Работа с массивами промисов в JavaScript
  </a>

  <script>
    /*
    1.
    Сделайте функцию, возвращающую промис, внутри которого установлена случайная задержка от 1 до 10 секунд.
    Пусть своим результатом промис возвращает эту задержку.
    С помощью цикла и вашей функции заполните массив 10-ю промисами.

    2.
    Используя массив промисов из предыдущей задачи сделайте так, чтобы в консоль вывелся результат первого сработавшего промиса.
    
    3.
    Используя массив промисов из предыдущей задачи сделайте так, чтобы в консоль вывелась сумма результатов всех промисов.
    */

    (() => {
      function getPromise() {
        let promise = new Promise(resolve => {
          let delay = 1000;
          setTimeout(() => resolve(delay), delay);
        });
        return promise
      }

      let tenPromisesArr = [];

      for (let i = 0; i < 10; i++) {
        tenPromisesArr.push(getPromise());
      }

      Promise.race(tenPromisesArr).then(res => console.log(res));
      Promise.all(tenPromisesArr).then(res => console.log(res.reduce((acc, el) => acc + el)));


    })();

  </script>

</body>

</html>