<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>metrics/elem/scrolling-change</title>
  <style>
    #elem {
      width: 300px;
      height: 150px;
      margin: 50px auto;
      padding: 25px;
      background: #CFF5BF;
      border: 25px solid #F0D7A1;
      overflow: auto;
      text-align: justify;
    }
  </style>

</head>

<body>

  <a href='https://code.mu/ru/javascript/book/supreme/metrics/elem/scrolling-change/'>
    Изменение прокрутки элемента в JavaScript
  </a>

  <section>
    <div id="elem">
      Москва между тем была пуста. В ней были еще люди, в ней оставалась еще пятидесятая часть всех бывших прежде
      жителей,
      но она была пуста. Она была пуста, как пуст бывает домирающий, обезматочивший улей.
      В обезматочившем улье уже нет жизни, но на поверхностный взгляд он кажется таким же живым, как и другие.
      Так же весело в жарких лучах полуденного солнца вьются пчелы вокруг обезматочившего улья, как и вокруг других
      живых
      ульев; так же издалека пахнет от него медом, так же влетают и вылетают из него пчелы. Но стоит приглядеться к
      нему,
      чтобы понять, что в улье этом уже нет жизни. Не так, как в живых ульях, летают пчелы, не тот запах, не тот звук
      поражают пчеловода. На стук пчеловода в стенку больного улья вместо прежнего, мгновенного, дружного ответа,
      шипенья
      десятков тысяч пчел, грозно поджимающих зад и быстрым боем крыльев производящих этот воздушный жизненный звук, —
      ему
      отвечают разрозненные жужжания, гулко раздающиеся в разных местах пустого улья. Из летка не пахнет, как прежде,
      спиртовым, душистым запахом меда и яда, не несет оттуда теплом полноты, а с запахом меда сливается запах пустоты и
      гнили. У летка нет больше готовящихся на погибель для защиты, поднявших кверху зады, трубящих тревогу стражей. Нет
      больше того ровного и тихого звука, трепетанья труда, подобного звуку кипенья, а слышится нескладный разрозненный
      шум беспорядка. В улей и из улья робко и увертливо влетают и вылетают черные продолговатые, смазанные медом
      пчелы-грабительницы; они не жалят, а ускользают от опасности. Прежде только с ношами влетали, а вылетали пустые
      пчелы, теперь вылетают с ношами. Пчеловод открывает нижнюю колодезню и вглядывается в нижнюю часть улья. Вместо
      прежде висевших до уза (нижнего дна) черных, усмиренных трудом плетей сочных пчел, держащих за ноги друг друга и с
      непрерывным шепотом труда тянущих вощину, — сонные, ссохшиеся пчелы в разные стороны бредут рассеянно по дну и
      стенкам улья. Вместо чисто залепленного клеем и сметенного веерами крыльев пола на дне лежат крошки вощин,
      испражнения пчел, полумертвые, чуть шевелящие ножками и совершенно мертвые, неприбранные пчелы.
      Пчеловод открывает верхнюю колодезню и осматривает голову улья. Вместо сплошных рядов пчел, облепивших все
      промежутки сотов и греющих детву, он видит искусную, сложную работу сотов, но уже не в том виде девственности, в
      котором она бывала прежде. Все запущено и загажено. Грабительницы — черные пчелы — шныряют быстро и украдисто по
      работам; свои пчелы, ссохшиеся, короткие, вялые, как будто старые, медленно бродят, никому не мешая, ничего не
      желая
      и потеряв сознание жизни. Трутни, шершни, шмели, бабочки бестолково стучатся на лету о стенки улья. Кое-где между
      вощинами с мертвыми детьми и медом изредка слышится с разных сторон сердитое брюзжание; где-нибудь две пчелы, по
      старой привычке и памяти очищая гнездо улья, старательно, сверх сил, тащат прочь мертвую пчелу или шмеля, сами не
      зная, для чего они это делают. В другом углу другие две старые пчелы лениво дерутся или чистятся, или кормят одна
      другую, сами не зная, враждебно или дружелюбно они это делают. В третьем месте толпа пчел, давя друг друга,
      нападает
      на какую-нибудь жертву и бьет и душит ее. И ослабевшая или убитая пчела медленно, легко, как пух, спадает сверху в
      кучу трупов. Пчеловод разворачивает две средние вощины, чтобы видеть гнездо. Вместо прежних сплошных черных кругов
      спинка с спинкой сидящих тысяч пчел и блюдущих высшие тайны родного дела, он видит сотни унылых, полуживых и
      заснувших остовов пчел. Они почти все умерли, сами не зная этого, сидя на святыне, которую они блюли и которой уже
      нет больше. От них пахнет гнилью и смертью. Только некоторые из них шевелятся, поднимаются, вяло летят и садятся
      на
      руку врагу, не в силах умереть, жаля его, — остальные, мертвые, как рыбья чешуя, легко сыплются вниз. Пчеловод
      закрывает колодезню, отмечает мелом колодку и, выбрав время, выламывает и выжигает ее.
      Так пуста была Москва, когда Наполеон, усталый, беспокойный и нахмуренный, ходил взад и вперед у Камерколлежского
      вала, ожидая того хотя внешнего, но необходимого, по его понятиям, соблюдения приличий, — депутации.
      В разных углах Москвы только бессмысленно еще шевелились люди, соблюдая старые привычки и не понимая того, что они
      делали.
    </div>

    <button id='btnShowSizeEl'>Действуй</button>
  </section>

  <script>
    console.log('1. Дан элемент и кнопка. По нажатию на кнопку прокрутите элемент до самого низа.');
    console.log('2. Дан элемент и кнопка. По нажатию на кнопку проверьте, прокручен ли элемент до конца по вертикали.');

    let elem = document.getElementById('elem');

    document.getElementById('btnShowSizeEl').addEventListener('click', () => {
      console.log(`В style. Ширина ${getComputedStyle(elem).width}. Высота ${getComputedStyle(elem).height}`);
      console.log(`Клиентский размеры. Ширина ${elem.clientWidth}. Высота ${elem.clientHeight}`);
      console.log(`Полные размеры. Ширина ${elem.offsetWidth}. Высота ${elem.offsetHeight}`);
      console.log(`размеры элемента с учетом спрятанной под прокруткой части. Ширина ${elem.scrollWidth}. Высота ${elem.scrollHeight}`);
      console.log(`Элемент прокручен по вертикали ${elem.scrollTop}.`);
      elem.scrollTop = elem.scrollHeight- elem.clientHeight;
      console.log(`Элемент прокручен по вертикали ${elem.scrollTop}.`);
    });

  </script>

</body>

</html>