<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>widgetTilda or widgetWix</title>
</head>

<body>

  <div id='widgetLoader'>
    <select id='theme'>
      <option value='dark'>dark</option>
      <option value='light'>light</option>
    </select>
    <select id='language'>
      <option value="et">et</option>
      <option value="ru">ru</option>
      <option value="en">en</option>
    </select>
    <select id='type'>
      <option value="schedule">schedule</option>
    </select>
    <input id='widget-id'>
  </div>

  <script>
    //создание итогового элемента со стартовыми настройками
    let createEl = () => {
      let result = document.createElement('div');
      result.id = 'result';
      document.body.appendChild(result);
      result.dataset.widgetId = 'RY9LQDFE87';
      result.dataset.theme = 'light';
      result.dataset.language = 'ru';
      result.dataset.type = 'schedule';
    }
    createEl();
    // добавляет скрипт на страницу в конец html: script src="https://****/widget-loader.js"
    let addScriptToHTML = () => {
      let scriptWidgetLoaderEl = document.createElement('script');
      scriptWidgetLoaderEl.src = 'https://****/widget-loader.js';
      document.body.appendChild(scriptWidgetLoaderEl);
    }
    addScriptToHTML();
    // устанавливает обработчики событий выбора и ввода
    let setHandlers = (element) => {
      let inputwidgetEl = document.getElementById('widget-id');
      let themeEl = document.getElementById('theme');
      let languageEl = document.getElementById('language');
      let typeEl = document.getElementById('type');

      inputwidgetEl.oninput = () => {
        element.dataset.widgetId = inputwidgetEl.value;
      };
      themeEl.onchange = () => {
        element.dataset.theme = themeEl.value;
      };
      languageEl.onchange = () => {
        element.dataset.language = languageEl.value;
      };
      typeEl.onchange = () => {
        element.dataset.type = typeEl.value;
      };
    }
    setHandlers(document.getElementById('result'));
  </script>
</body>

</html>