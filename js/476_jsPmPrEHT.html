<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>practice/edit-hiding-text</title>
</head>

<body>
  <a href="https://code.mu/ru/javascript/book/prime/dom/practice/edit-hiding-text/">
    Прячем текст при редактировании элемента на JavaScript
  </a>

  <section>
    <p>Text.</p>
  </section>

  <script>
    let sectionEl = document.querySelector('section');
    let pEl = document.querySelector('p');
    let content = '';

    pEl.addEventListener('click', editText);

    function editText() {
      content = pEl.textContent;
      pEl.removeEventListener('click', editText);
      console.log(content);
      pEl.innerHTML = `<input value='${content}' id='editP'>`;
      let inputEl = document.getElementById('editP');
      inputEl.addEventListener('blur', () => {
        pEl.innerHTML = inputEl.value;
        pEl.addEventListener('click', editText);
      });
    }

  </script>

</body>

</html>