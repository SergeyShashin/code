<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>dom/basis/practicum</title>
</head>

<body>
  <a href="https://code.mu/ru/javascript/book/prime/dom/basis/practicum/">
    Отработка изученного материала на работу с DOM
  </a>

  <h4>1. Дан инпут и абзац. По потери фокуса в инпуте запишите значение инпута в конец текста абзаца.</h4>
  <section>
    <input type="text" id='inputTask1' value="текст.">
    <p id='monitorTask1'>Какой-то </p>
  </section>

  <h4>2. Дано несколько инпутов, абзац и кнопка.
    По нажатию на кнопку получите числа, стоящие в этих инпутах и запишите их сумму в абзац.</h4>
  <section id="task2">
    <input type="text" class="inputTask2" value="8">
    <input type="text" class="inputTask2" value="8">
    <input type="text" class="inputTask2" value="8">
    <p id='monitorTask2'>&nbsp;</p>
    <button id="btn2">Кнопка2</button>
  </section>

  <h4>3. Дан инпут. В него вводится число. По потери фокуса найдите сумму цифр этого числа.</h4>
  <section>
    <input type="text" id='inputTask3' value="0123456789">
    <p id='monitorTask3'>&nbsp;</p>
  </section>

  <h4>4. Дан инпут. В него вводятся числа через запятую.
    По потери фокуса найдите среднее арифметическое этих чисел (сумма делить на количество).</h4>
  <section>
    <input type="text" id='inputTask4' value="1, 2, 3, 4, 5">
    <p id='monitorTask4'>&nbsp;</p>
  </section>

  <h4>5. Даны 4 инпута. В первый инпут вводится ФИО через пробел.
    По потери фокуса запишите фамилию, имя и отчество в остальные 3 инпута.</h4>
  <section>
    <input type="text" id='inputTask5' value="фамилия имя отчество">
    <input type="text" id='inputTask5F'>
    <input type="text" id='inputTask5N'>
    <input type="text" id='inputTask5S'>
  </section>

  <h4>6. Дан инпут. В него вводится ФИО через пробел. ФИО вводится с маленькой буквы.
    Сделайте так, чтобы по потери фокуса инпутом, введенные фамилия, имя и отчество автоматически
    стали записанными с большой буквы (в этом же инпуте).</h4>
  <section>
    <input type="text" id='inputTask6' value="фамилия имя отчество">
  </section>

  <h4>7. Дан инпут. В него вводится текст. По потери фокуса узнайте количество слов в этом тексте.</h4>
  <section>
    <input type="text" id='inputTask7' value="фамилия имя отчество">
  </section>

  <h4>8. Дан инпут. В него вводится дата в формате 31.12.2016. По потери фокуса в этом же инпуте поставьте эту дату в
    формате 2016-12-31.</h4>
  <section>
    <input id='inputTask8' value='31.12.2016'>
  </section>

  <h4>9. Дан инпут. В него вводится слово.
    По нажатию на кнопку проверьте то, что это слово читается с начала и с конца одинаково (например, мадам).</h4>
  <section>
    <input id='inputTask9' value='мадам'>
    <button id="btn9">Проверка</button>
  </section>

  <h4>10. Дан инпут. В него вводится число. Проверьте по потери фокуса, что это число содержит внутри себя цифру 3.</h4>
  <section>
    <input id='inputTask10' value='12345678'>
  </section>

  <h4>11. Даны несколько абзацев и кнопка. По нажатию на кнопку запишите в конец каждого абзаца его порядковый номер.
  </h4>
  <section id="section11">
    <p>Текст 1.</p>
    <p>Текст 2.</p>
    <p>Текст 3.</p>
    <button id="btn11">Добавть порядковый номер</button>
  </section>

  <h4>12. Даны ссылки. Добавьте в конец каждой ссылки ее href в круглых скобках.</h4>
  <section id="section12">
    <a href="/1">1</a>
    <a href="/2">2</a>
    <a href="/3">3</a>
  </section>

  <h4>13. Даны ссылки. Если ссылка начинается с http://, то добавьте ей в конец стрелку → (делается так: &rarr;).</h4>
  <section id="section13">
    <a href="/1">1</a>
    <a href="http://2.html">2</a>
    <a href="/3">3</a>
  </section>

  <h4>14. Даны несколько абзацев с числами. По нажатию на любой абзац запишите в него квадрат числа, которое в нем
    находится.</h4>
  <section id="section14">
    <p>2</p>
    <p>3</p>
    <p>4</p>
  </section>

  <h4>15. Дан инпут. В него вводится дата в формате 31.12.2016. По потери фокуса узнайте день недели (словом), который
    приходится на эту дату.</h4>
  <section>
    <input type="date" id="inputTask15">
  </section>

  <script>
    console.log(`1. Дан инпут и абзац. По потери фокуса в инпуте запишите значение инпута в конец текста абзаца.`);
    let inputTask1 = document.getElementById('inputTask1');
    let monitorTask1 = document.getElementById('monitorTask1');
    inputTask1.addEventListener('blur', () => monitorTask1.textContent += ' ' + inputTask1.value);
  </script>

  <script>
    console.log(`2. Дано несколько инпутов, абзац и кнопка. 
    По нажатию на кнопку получите числа, стоящие в этих инпутах и запишите их сумму в абзац.`);
    let inputsTask2 = document.querySelectorAll('.inputTask2');
    let monitorTask2 = document.getElementById('monitorTask2');
    let sum = 0;

    document.getElementById('btn2').addEventListener('click', () => {
      for (let input of inputsTask2) {
        sum += Number(input.value);
      }
      monitorTask2.textContent = sum;
    });
  </script>

  <script>
    console.log(`3. Дан инпут. В него вводится число. По потери фокуса найдите сумму цифр этого числа.`);
    let inputTask3 = document.getElementById('inputTask3');
    let monitorTask3 = document.getElementById('monitorTask3');

    inputTask3.addEventListener('blur', () => {
      monitorTask3.textContent = inputTask3.value.split('').reduce((acc, el) => acc + Number(el), acc = 0);
    });
  </script>

  <script>
    console.log(`4. Дан инпут. В него вводятся числа через запятую. 
    По потери фокуса найдите среднее арифметическое этих чисел (сумма делить на количество).`);

    let inputTask4 = document.getElementById('inputTask4');
    let monitorTask4 = document.getElementById('monitorTask4');

    inputTask4.addEventListener('blur', () => {
      let numbersArr = inputTask4.value.split(', ');
      monitorTask4.textContent = numbersArr.reduce((acc, el) => acc + Number(el), acc = 0) / numbersArr.length;
    });
  </script>

  <script>
    console.log(`5. Даны 4 инпута. В первый инпут вводится ФИО через пробел. 
  По потери фокуса запишите фамилию, имя и отчество в остальные 3 инпута.`);

    let inputTask5 = document.getElementById('inputTask5');
    let inputTask5F = document.getElementById('inputTask5F');
    let inputTask5N = document.getElementById('inputTask5N');
    let inputTask5S = document.getElementById('inputTask5S');

    inputTask5.addEventListener('blur', () => {
      let fNS5 = inputTask5.value.split(' ');
      inputTask5F.value = fNS5[0];
      inputTask5N.value = fNS5[1];
      inputTask5S.value = fNS5[2];
    });
  </script>

  <script>
    console.log(`6. Дан инпут. В него вводится ФИО через пробел. ФИО вводится с маленькой буквы. 
    Сделайте так, чтобы по потери фокуса инпутом, введенные фамилия, имя и отчество автоматически
    стали записанными с большой буквы (в этом же инпуте).`);

    let inputTask6 = document.getElementById('inputTask6');

    inputTask6.addEventListener('blur', () => {
      let fNS6 = inputTask6.value.split(' ');
      let result = [];
      fNS6.map(el => result.push(el[0].toUpperCase() + el.slice(1)));
      inputTask6.value = result.join(' ');
    });
  </script>

  <script>
    console.log(`7. Дан инпут. В него вводится текст. По потери фокуса узнайте количество слов в этом тексте.`);

    let inputTask7 = document.getElementById('inputTask7');

    inputTask7.addEventListener('blur', () => {
      let fNS7 = inputTask7.value.split(' ');

      inputTask7.value = `Количество слов ${fNS7.length}.`;
    });
  </script>

  <script>
    console.log(`8. Дан инпут. В него вводится дата в формате 31.12.2016. 
    По потери фокуса в этом же инпуте поставьте эту дату в формате 2016-12-31.`);

    let inputTask8 = document.getElementById('inputTask8');

    inputTask8.addEventListener('blur', () => {
      inputTask8.value = inputTask8.value.split('.').reverse().join('-');
      // inputTask8.value = `${arr8[2]}-${arr8[1]}-${arr8[0]}`;
    });

  </script>

  <script>
    console.log(`9. Дан инпут. В него вводится слово. 
    По нажатию на кнопку проверьте то, что это слово читается с начала и с конца одинаково (например, мадам).`)

    let inputTask9 = document.getElementById('inputTask9');
    let btn9 = document.getElementById('btn9');

    btn9.addEventListener('click', () => {
      btn9.textContent = inputTask9.value === inputTask9.value.split('').reverse().join('');
    });

  </script>

  <script>
    console.log(`10. Дан инпут. В него вводится число. Проверьте по потери фокуса, что это число содержит внутри себя цифру 3.`);

    let inputTask10 = document.getElementById('inputTask10');

    inputTask10.addEventListener('blur', () => {
      inputTask10.value = /3/.test(inputTask10.value);
    });

  </script>

  <script>
    console.log(`11. Даны несколько абзацев и кнопка. По нажатию на кнопку запишите в конец каждого абзаца его порядковый номер.`);
    document.getElementById('btn11').onclick = () => {
      let children11 = document.getElementById('section11').children;

      for (let i = 0; i < children11.length; i++) {
        children11[i].textContent += i;
      }
    }
  </script>

  <script>
    console.log(`12. Даны ссылки. Добавьте в конец каждой ссылки ее href в круглых скобках.`);
    let links12 = document.getElementById('section12').children;

    for (let link of links12) {
      link.href += `(${link.href})`;
    }

  </script>

  <script>
    console.log('13. Даны ссылки. Если ссылка начинается с http://, то добавьте ей в конец стрелку → (делается так: &rarr;).');
    let links13 = document.getElementById('section13').children;

    for (let link of links13) {
      /^(http\:\/\/)/.test(link.href) ? link.textContent += `→` : '';
    }
  </script>

  <script>
    console.log(`14. Даны несколько абзацев с числами. По нажатию на любой абзац запишите в него квадрат числа, которое в нем находится.`);

    document.getElementById('section14').addEventListener('click', (e) => {
      let target = e.target;
      target.textContent = Number(target.textContent) ** 2;
    });
  </script>

  <script>
    console.log(`15. Дан инпут. В него вводится дата в формате 31.12.2016. По потери фокуса узнайте день недели (словом), который
    приходится на эту дату.`);

    let inputTask15 = document.getElementById('inputTask15');
    inputTask15.addEventListener('blur', () => {
      let days = ['вс', 'пн', 'вт', 'ср', 'чт', 'пт', 'сб'];
      let [year, month, day] = inputTask15.value.split('-');
      console.dir(inputTask15);
      console.log(days[new Date(Number(year), Number(month - 1), Number(day)).getDay()]);
    });

  </script>

</body>

</html>